# OSAL\_CRIT\_Leave Function

**Parent topic:**[Library Interface](GUID-2729150D-D502-4BC4-BB41-653718EF531C.md)

## C

```c
void  OSAL_CRIT_Leave(OSAL_CRIT_TYPE severity, OSAL_CRITSECT_DATA_TYPE status)
```

## Summary

Leaves a critical section with the specified severity level.

## Description

This function leaves a critical section of code. It is assumed that the<br />sequence of operations bounded by the enter and leave critical section<br />operations is treated as one atomic sequence that will not be disturbed.<br />The severity should match the severity level used in the corresponding<br />OSAL\_CRIT\_Enter call to ensure that the RTOS carries out the correct action.

## Precondition

None.

## Parameters

|Param|Description|
|-----|-----------|
|severity|OSAL\_CRIT\_TYPE\_LOW, The scheduler will be unlocked, if no other nested calls to OSAL\_CRIT\_ENTER have been made. OSAL\_CRIT\_TYPE\_HIGH, Interrupts are returned to the state passed into this function. The state should of been saved by an earlier call to OSAL\_CRIT\_Enter|
|status|The value which will be used to set the state of global interrupts, if OSAL\_CRIT\_TYPE\_HIGH is passed in|

## Returns

None.

## Example

```c
OSAL_CRITSECT_DATA_TYPE IntState;
// prevent other tasks preempting this sequence of code
intState = OSAL_CRIT_Enter(OSAL_CRIT_TYPE_LOW);
// modify the peripheral
DRV_USART_Reinitialize( objUSART, &initData);
OSAL_CRIT_Leave(OSAL_CRIT_TYPE_LOW, IntState);
```

## Remarks

The sequence of operations bounded by the OSAL\_CRIT\_Enter and OSAL\_CRIT\_Leave form a critical section. The severity level defines whether the RTOS should perform task locking or completely disable all interrupts.

