# DRV\_SDSPI\_Tasks Function

**Parent topic:**[Library Interface](GUID-7A1B4F41-7CC6-49CF-941E-25265059D247.md)

## C

```c
void DRV_SDSPI_Tasks
(
    SYS_MODULE_OBJ object
)
```

## Summary

Maintains the driver's state machine.

## Description

This routine is used to maintain the driver's internal state machine.<br />For synchronous driver, the task routine periodically checks for SD card<br />attach/detach event and initializes the SD card.

## Precondition

The DRV\_SDSPI\_Initialize routine must have been called for the specified SDSPI driver instance.

## Parameters

|Param|Description|
|-----|-----------|
|object|Object handle for the specified driver instance \(returned from DRV\_SDSPI\_Initialize\)|

## Returns

None

## Example

```c
//sysObj.drvSDSPI0 is returned by the driver initialization routine

//For synchronous driver
while(1)
{
    DRV_SDSPI_Tasks(sysObj.drvSDSPI0);

    // Yield and allow other threads to run
    vTaskDelay(100 / portTICK_PERIOD_MS);
}
```

## Remarks

This routine is normally not called directly by an application.

For synchronous driver with RTOS, this routine is called from a separate RTOS thread.

