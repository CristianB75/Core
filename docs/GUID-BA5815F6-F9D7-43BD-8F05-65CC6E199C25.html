<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Configuring The Library" />
<meta name="DC.relation" scheme="URI" content="GUID-05D0B89A-EE4D-46D4-B58F-7402C56061AE.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="configuring-the-library" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Configuring The Library</title>
<meta name="Microsoft.Help.Id" content="GUID-EDFB1AB8-CD6B-446F-8E25-F2167287A1AF-configuring-the-library" />
<meta name="Microsoft.Help.TocParent" content="GUID-EDFB1AB8-CD6B-446F-8E25-F2167287A1AF" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Core Library Reference A 11/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-BA5815F6-F9D7-43BD-8F05-65CC6E199C25"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="configuring-the-library">
<h1 class="title topictitle1" id="ariaid-title1">Configuring The Library</h1><div class="body"><p class="p">The Time System Service library should be configured through the MHC. The following figure shows the MHC configuration window for configuring the Time System Service and a brief description of various configuration options.</p>
<p class="p">Depending on the timer PLIB connected to the Time System Service, the Time System Service provides options to setup the Time System Service in either Tick-less mode or Tick-based mode.</p>
<ul class="ul"><li class="li"><p class="p">The Time System Service shows both Tick-less and Tick-based options for the timers that support for both compare and period modes.</p>
</li>
<li class="li"><p class="p">The Time System Service shows only Tick-less mode for timers that only support compare mode.</p>
</li>
<li class="li"><p class="p">The Time System Service shows only Tick-based mode for timers that support only period mode.</p>
</li>
<li class="li"><p class="p">The Time System Service shows only Tick-based mode for Systick</p>
</li>
</ul>
<p class="p"><strong class="ph b">Time System Service Connected to TMR Peripheral (TC0) and configured in Tick-less mode</strong></p>
<br /><img class="image" src="GUID-489A215C-292E-4F9E-AE19-0FB8454E23DE-low.png" alt="sys_time_mhc_config_with_tmr_tickless" /><br /><p class="p"><strong class="ph b">Time System Service Connected to TMR Peripheral (TC0) and configured in Tick-based mode</strong></p>
<br /><img class="image" src="GUID-26825F3E-ACC6-41DB-BE2A-EAF2C8BA6421-low.png" alt="sys_time_mhc_config_with_tmr_tickbased" /><br /><p class="p"><strong class="ph b">Time System Service using Systick</strong></p>
<br /><img class="image" src="GUID-FB96E5BE-9A88-4108-833A-6CC03B9685E6-low.png" alt="sys_time_mhc_config_with_systick" /><br /><p class="p"><strong class="ph b">Time System Service Configuration Options</strong></p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Use Systick?</strong></p>
<ul class="ul"><li class="li"><p class="p">This option is visible only in Bare-Metal environment</p>
</li>
<li class="li"><p class="p">When Enabled Time system service use the Systick peripheral</p>
</li>
<li class="li"><p class="p">Operating mode is fixed to TICK BASED</p>
</li>
</ul>
</li>
<li class="li"><p class="p"><strong class="ph b">PLIB Used:</strong></p>
<ul class="ul"><li class="li"><p class="p">This option is visible only when a Timer peripheral library is connected</p>
</li>
<li class="li"><p class="p">Indicates the hardware Timer Peripheral Library instance used by the Time System Service</p>
</li>
</ul>
</li>
<li class="li"><p class="p"><strong class="ph b">Number of Clients:</strong></p>
<ul class="ul"><li class="li"><p class="p">Indicates the maximum number of alarm/delay requests that can be active at any given time.</p>
</li>
</ul>
</li>
<li class="li"><p class="p"><strong class="ph b">Operating Mode:</strong></p>
<ul class="ul"><li class="li"><p class="p">Indicates the operating mode used</p>
<ul class="ul"><li class="li"><p class="p">If a timer PLIB is connected to it can be TICK BASED or/and TICKLESS mode</p>
</li>
<li class="li"><p class="p">If Systick is used then it is configured to TICK BASED mode</p>
</li>
</ul>
</li>
</ul>
</li>
<li class="li"><p class="p"><strong class="ph b">Tick Rate (ms):</strong></p>
<ul class="ul"><li class="li"><p class="p">This option is supported only in TICK BASED Operating mode</p>
</li>
<li class="li"><p class="p">Indicates the tick rate when the Time System Service is configured in TICK BASED mode</p>
</li>
</ul>
</li>
<li class="li"><p class="p"><strong class="ph b">Use Floating Point Calculations?</strong></p>
<ul class="ul"><li class="li"><p class="p">This option is supported only in TICK BASED Operating mode</p>
</li>
<li class="li"><p class="p">When Enabled Time system service uses floating point calculations</p>
</li>
</ul>
</li>
</ul>
<p class="p"><strong class="ph b">TC0 Peripheral Configuration Options</strong></p>
<p class="p">The hardware Timer Peripheral library is automatically configured for the correct mode of operation when it is connected to the Time System Service as shown in the below example snapshots for TC instance 0.</p>
<p class="p"><strong class="ph b">Timer PLIB TC0 automatically configured by Time System Service when configured for tick-less mode</strong></p>
<br /><img class="image" src="GUID-DC19DF20-DBE7-4937-84E6-92B3D0029991-low.png" alt="sys_time_mhc_config_tc0_tickless" /><br /><p class="p"><strong class="ph b">Timer PLIB TC0 automatically configured by Time System Service when configured for tick-based mode</strong></p>
<br /><img class="image" src="GUID-D008A571-0282-4786-8B76-A3192C247238-low.png" alt="sys_time_mhc_config_tc0_tickbased" /><br /></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-05D0B89A-EE4D-46D4-B58F-7402C56061AE.html">Time System Service</a></div>
</div>
</div></body>
</html>