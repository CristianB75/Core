# SYS\_FS\_FileTruncate Function

**Parent topic:**[Library Interface](GUID-42556FDF-A632-49FE-8A5E-9303A926578C.md)

## C

```c
SYS_FS_RESULT SYS_FS_FileTruncate
(
    SYS_FS_HANDLE handle
);
```

## Summary

Truncates a file

## Description

This function truncates the file size to the current file read/write<br />pointer. This function has no effect if the file read/write pointer is<br />already pointing to end of the file.

## Precondition

A valid file handle has to be passed as input to the function. The file has to be opened in a mode where writes to file is possible \(such as read plus or write mode\).

## Parameters

|Param|Description|
|-----|-----------|
|handle|A valid handle which was obtained while opening the file.|

## Returns

*SYS\_FS\_RES\_SUCCESS* - File truncate operation was successful.

*SYS\_FS\_RES\_FAILURE* - File truncate operation was unsuccessful. The reason<br />for the failure can be retrieved with SYS\_FS\_Error or SYS\_FS\_FileError.

## Example

```c
SYS_FS_HANDLE fileHandle;
size_t nbytes;
size_t bytes_read;
SYS_FS_RESULT res;

fileHandle = SYS_FS_FileOpen("/mnt/myDrive/FILE.JPG", (SYS_FS_FILE_OPEN_READ));

if(fileHandle != SYS_FS_HANDLE_INVALID)
{
    // File open is successful
}

// Read the file content
nbytes = sizeof(buf);
bytes_read = SYS_FS_FileRead(fileHandle, buf, nbytes);

// Truncate the file
res = SYS_FS_FileTruncate(fileHandle);

if(res != SYS_FS_RES_SUCCESS)
{
    // Truncation failed.
}

SYS_FS_FileClose(fileHandle);

```

## Remarks

None.

