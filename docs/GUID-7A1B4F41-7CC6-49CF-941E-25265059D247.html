<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Library Interface" />
<meta name="DC.relation" scheme="URI" content="GUID-89A8332D-B4D0-4989-8602-EACDE3EE74AC.html" />
<meta name="DC.relation" scheme="URI" content="GUID-3045AE88-9A21-4BE2-B1D3-3BD2832A31CF.html" />
<meta name="DC.relation" scheme="URI" content="GUID-FDE6412C-17D7-4AF5-B4A6-FD8E0FA2CCDD.html" />
<meta name="DC.relation" scheme="URI" content="GUID-ABCA7342-A189-40BE-81B4-8F7AFB54DBB7.html" />
<meta name="DC.relation" scheme="URI" content="GUID-7BF4B98B-08BD-4EF8-804E-E98FBBB58962.html" />
<meta name="DC.relation" scheme="URI" content="GUID-C31A72D0-6E22-4F3B-BA96-8B71473F16FE.html" />
<meta name="DC.relation" scheme="URI" content="GUID-9431E4B8-75C5-4EDD-92AB-E408501BE694.html" />
<meta name="DC.relation" scheme="URI" content="GUID-DD0C5C28-401A-4FD6-9BA8-1EDD0812FE8C.html" />
<meta name="DC.relation" scheme="URI" content="GUID-EE2EE0D7-5780-4446-95C7-B11743E46F36.html" />
<meta name="DC.relation" scheme="URI" content="GUID-3051F828-5F5D-4349-B949-CF78BADC3D9B.html" />
<meta name="DC.relation" scheme="URI" content="GUID-D11F782D-EA66-4244-8C49-B870CB8A8954.html" />
<meta name="DC.relation" scheme="URI" content="GUID-CF9D8C02-CDCC-4109-98A9-596F8B97FA6E.html" />
<meta name="DC.relation" scheme="URI" content="GUID-73CFC4AE-26EC-41F4-9A2A-A541704C1312.html" />
<meta name="DC.relation" scheme="URI" content="GUID-3D91A8FB-8652-4510-B84B-28C44F4BE7B9.html" />
<meta name="DC.relation" scheme="URI" content="GUID-7A650304-68A4-4AF2-A839-E0C386199636.html" />
<meta name="DC.relation" scheme="URI" content="GUID-2A607243-AAFB-446B-B743-F33F83344DD0.html" />
<meta name="DC.relation" scheme="URI" content="GUID-F28E022E-CE8C-4121-A9DD-6599C9EC4F8D.html" />
<meta name="DC.relation" scheme="URI" content="GUID-56EFD842-90D6-4F89-A21C-7085F873C4D7.html" />
<meta name="DC.relation" scheme="URI" content="GUID-16CA62B0-B63E-4BF8-B2D2-82960FB3B4D4.html" />
<meta name="DC.relation" scheme="URI" content="GUID-2BD06221-FD9C-403C-B3E2-CBAAF7A4F445.html" />
<meta name="DC.relation" scheme="URI" content="GUID-2CD6DE9A-6F65-4E4E-A370-6F4227534CE1.html" />
<meta name="DC.relation" scheme="URI" content="GUID-5AF7D1CF-A561-4B79-96A1-2E37C455D70C.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="library-interface" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Library Interface</title>
<meta name="Microsoft.Help.Id" content="GUID-EDFB1AB8-CD6B-446F-8E25-F2167287A1AF-library-interface" />
<meta name="Microsoft.Help.TocParent" content="GUID-EDFB1AB8-CD6B-446F-8E25-F2167287A1AF" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Core Library Reference A 11/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-7A1B4F41-7CC6-49CF-941E-25265059D247"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="library-interface">
<h1 class="title topictitle1" id="ariaid-title1">Library Interface</h1><div class="body"><p class="p">SDSPI driver library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d40543e21"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d40543e23"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Initialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Initializes the SD Card driver</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Status</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Provides the current status of the SDSPI driver module</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Open</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Opens the specified SD Card driver instance and returns a handle to it</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Close</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Closes an opened-instance of the SD Card driver</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Tasks</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Maintains the driver's state machine</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_SyncRead</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Reads blocks of data from the specified block address of the SD Card</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_AsyncRead</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Reads blocks of data from the specified block address of the SD Card</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_SyncWrite</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Writes blocks of data starting at the specified address of the SD Card</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_AsyncWrite</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Writes blocks of data starting at the specified address of the SD Card</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_IsAttached</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Returns the physical attach status of the SD Card</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_IsWriteProtected</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Returns the write protect status of the SD Card</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_GeometryGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Returns the geometry of the device</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_EventHandlerSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Allows a client to identify an event handling function for the driver to call back when queued operation has completed. For the synchronous SDSPI driver, the event handler is only used by the file system</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_CommandStatusGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>Gets the current status of the command. For synchronous mode, the command status is only used by the file system</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Read</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>This routine provides interface to the file system to perform a media read operation in synchronous mode of the SDSPI driver</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e21 "><span>DRV_SDSPI_Write</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e23 "><span>This routine provides interface to the file system to perform a media write operation in synchronous mode of the SDSPI driver</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d40543e117"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d40543e119"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d40543e121"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e117 "><span>DRV_SDSPI_EVENT</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e119 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e121 "><span>Identifies the possible events that can result from a request</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e117 "><span>DRV_SDSPI_COMMAND_STATUS</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e119 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e121 "><span>Identifies the possible events that can result from a request</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e117 "><span>DRV_SDSPI_COMMAND_HANDLE</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e119 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e121 "><span>Handle identifying commands queued in the driver</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e117 "><span>DRV_SDSPI_COMMAND_HANDLE_INVALID</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e119 "><span>Macro</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e121 "><span>SDSPI Driver's Invalid Command Handle</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e117 "><span>DRV_SDSPI_EVENT_HANDLER</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e119 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d40543e121 "><span>Pointer to a SDSPI Driver Event handler function</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-3045AE88-9A21-4BE2-B1D3-3BD2832A31CF.html">DRV_SDSPI_Initialize Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-FDE6412C-17D7-4AF5-B4A6-FD8E0FA2CCDD.html">DRV_SDSPI_Status Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-ABCA7342-A189-40BE-81B4-8F7AFB54DBB7.html">DRV_SDSPI_Open Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-7BF4B98B-08BD-4EF8-804E-E98FBBB58962.html">DRV_SDSPI_Close Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-C31A72D0-6E22-4F3B-BA96-8B71473F16FE.html">DRV_SDSPI_Tasks Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-9431E4B8-75C5-4EDD-92AB-E408501BE694.html">DRV_SDSPI_SyncRead Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-DD0C5C28-401A-4FD6-9BA8-1EDD0812FE8C.html">DRV_SDSPI_AsyncRead Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-EE2EE0D7-5780-4446-95C7-B11743E46F36.html">DRV_SDSPI_SyncWrite Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-3051F828-5F5D-4349-B949-CF78BADC3D9B.html">DRV_SDSPI_AsyncWrite Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-D11F782D-EA66-4244-8C49-B870CB8A8954.html">DRV_SDSPI_IsAttached Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-CF9D8C02-CDCC-4109-98A9-596F8B97FA6E.html">DRV_SDSPI_IsWriteProtected Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-73CFC4AE-26EC-41F4-9A2A-A541704C1312.html">DRV_SDSPI_GeometryGet Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-3D91A8FB-8652-4510-B84B-28C44F4BE7B9.html">DRV_SDSPI_EventHandlerSet Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-7A650304-68A4-4AF2-A839-E0C386199636.html">DRV_SDSPI_CommandStatusGet Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-2A607243-AAFB-446B-B743-F33F83344DD0.html">DRV_SDSPI_Read Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-F28E022E-CE8C-4121-A9DD-6599C9EC4F8D.html">DRV_SDSPI_Write Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-56EFD842-90D6-4F89-A21C-7085F873C4D7.html">DRV_SDSPI_COMMAND_HANDLE Typedef</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-16CA62B0-B63E-4BF8-B2D2-82960FB3B4D4.html">DRV_SDSPI_COMMAND_HANDLE_INVALID Macro</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-2BD06221-FD9C-403C-B3E2-CBAAF7A4F445.html">DRV_SDSPI_COMMAND_STATUS Enum</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-2CD6DE9A-6F65-4E4E-A370-6F4227534CE1.html">DRV_SDSPI_EVENT Enum</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-5AF7D1CF-A561-4B79-96A1-2E37C455D70C.html">DRV_SDSPI_EVENT_HANDLER Typedef</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-89A8332D-B4D0-4989-8602-EACDE3EE74AC.html">SDSPI Driver</a></div>
</div>
</div></body>
</html>