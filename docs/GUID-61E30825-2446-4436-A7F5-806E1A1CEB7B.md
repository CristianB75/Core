# OSAL\_SEM\_Create Function

**Parent topic:**[Library Interface](GUID-2729150D-D502-4BC4-BB41-653718EF531C.md)

## C

```c
OSAL_RESULT OSAL_SEM_Create(OSAL_SEM_HANDLE_TYPE* semID, OSAL_SEM_TYPE type, uint8_t maxCount, uint8_t initialCount)
```

## Summary

Creates an OSAL Semaphore.

## Description

This function creates an OSAL binary or counting semaphore. If OSAL\_SEM\_TYPE\_BINARY is specified, the maxcount and initialCount values are ignored.

## Precondition

Semaphore must have been declared.

## Parameters

|Param|Description|
|-----|-----------|
|semID|Pointer to the Semaphore ID. Updated with valid semaphore handle if call was successful|
|type|If OSAL\_SEM\_TYPE\_BINARY, create a binary semaphore. If OSAL\_SEM\_TYPE\_COUNTING, create a counting semaphore with the specified count values|
|maxCount|Maximum value for a counting semaphore \(ignored for a BINARY semaphore\). This parameter is ignored for ThreadX and Micrium/OS-III as these RTOS libraries do not support this parameter|
|initialCount|Starting count value for the semaphore \(ignored for a BINARY semaphore\) This should be less than or equal to maxCount when used with a RTOS library that supports the maxCount parameter \(i.e., FreeRTOS and OPENRTOS\)|

## Returns

*OSAL\_RESULT\_TRUE* - Semaphore created

*OSAL\_RESULT\_FALSE* - Semaphore creation failed

## Example

```c
OSAL_SEM_Create(&mySemID, OSAL_SEM_TYPE_COUNTING, 10, 5);
```

## Remarks

None.

