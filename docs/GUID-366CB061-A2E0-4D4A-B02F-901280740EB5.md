# I2C\_BB\_Read Function

**Parent topic:**[Library Interface](GUID-6CBA8AA0-7EF7-44B1-8D12-CD6A3067E53A.md)

## C

```c
bool I2C_BB_Read(uint16_t address, uint8_t *pdata, size_t length)
```

## Summary

Reads data from the slave.

## Description

This function reads the data from a slave on the bus. The function will<br />attempt to read length number of bytes into pdata buffer from a slave whose<br />address is specified as address. The I2C Master generates a Start condition,<br />reads the data and then generates a Stop Condition.<br />If the slave NAKs the request, the transfer is terminated. The application<br />can call I2C\_BB\_ErrorGet\(\) function to know the cause of the error.

The function is non-blocking. It initiates bus activity and returns<br />immediately. The transfer is completed in the timer peripheral interrupt. A<br />transfer request cannot be placed when another transfer is in progress.<br />Calling the read function when another function is already in progress will<br />cause the function to return false.

The library will call the registered callback function when the transfer has<br />terminated if callback is registered.

## Precondition

I2C\_BB\_Initialize must have been called for the associated I2C instance.

## Parameters

|Param|Description|
|-----|-----------|
|address|7-bit / 10-bit slave address.|
|pdata|pointer to destination data buffer where the received data should be stored.|
|length|length of data buffer in number of bytes. Also the number of bytes to be read.|

## Returns

*true* - The request was placed successfully and the bus activity was initiated.

*false* - The request fails,if there was already a transfer in progress when this function was called.

## Example

```c
uint8_t myData [NUM_BYTES];

void MyI2CCallback(uintptr_t context)
{
    // This function will be called when the transfer completes. Note
    // that this function executes in the context of the timer peripheral
    // interrupt.
}

I2C_BB_Initialize();

I2C_BB_CallbackRegister(MyI2CCallback, NULL);

if(I2C_BB_Read( SLAVE_ADDR, &myData[0], NUM_BYTES ) == false)
{
    // error handling
}

```

## Remarks

None.

