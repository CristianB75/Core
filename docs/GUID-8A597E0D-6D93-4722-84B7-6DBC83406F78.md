# SYS\_FS\_FileStat Function

**Parent topic:**[Library Interface](GUID-42556FDF-A632-49FE-8A5E-9303A926578C.md)

## C

```c
SYS_FS_RESULT SYS_FS_FileStat
(
    const char *fname,
    SYS_FS_FSTAT *buf
)
```

## Summary

Gets file status.

## Description

This function obtains information about a file associated with the file<br />name, and populates the information in the structure pointed to by buf.<br />This function can read the status of file regardless of whether a file is<br />opened or not.

The file system supports 8.3 file name\(Short File Name\) and<br />also long file name. 8.3 filenames are limited to at most eight<br />characters, followed optionally by a filename extension<br />consisting of a period . and at most three further characters.<br />If the file name fits within the 8.3 limits then generally<br />there will be no valid LFN for it.

**For FAT File system**

-   If LFN is used the stat structure's altname field<br />will contain the short file name and fname will contain the long file name.<br />The "lfname" member of the SYS\_FS\_FSTAT is not applicable for FAT. It has to be<br />initialized to NULL before calling the API. If "lfname" is not NULL, then<br />first byte of lfname will be set to zero indicating no file found.


**For other File systems based on thier implementation**<br />-If LFN is used then the "lfname" member of the SYS\_FS\_FSTAT structure should be<br />initialized with the address of a suitable buffer and the "lfsize"<br />should be initialized with the size of the buffer. Once the function<br />returns, the buffer whose address is held in "lfname" will have<br />the file name\(long file name\).

-   The stat structure's fname field will contain the SFN and if<br />there is a valid LFN entry for the file then the long file name<br />will be copied into lfname member of the structure.


## Precondition

Prior to opening a file, the name of the volume on which the file resides should be known and the volume should be mounted.

## Parameters

|Param|Description|
|-----|-----------|
|fname|Name of the file with the path and the volume name. The string of volume and file name has to be preceded by "/mnt/". Also, the volume name and file name has to be separated by a slash "/".|
|buf|pointer to SYS\_FS\_FSTAT structure.|

## Returns

*SYS\_FS\_RES\_SUCCESS* - File stat operation was successful.

*SYS\_FS\_RES\_FAILURE* - File stat operation was unsuccessful. The reason for<br />the failure can be retrieved with SYS\_FS\_Error.

## Example

```c
SYS_FS_fStat fileStat;

if(SYS_FS_FileStat("/mnt/myDrive/FILE.TXT", &fileStat) == SYS_FS_RES_SUCCESS)
{
    // Successfully read the status of file "FILE.TXT"
}
```

## Remarks

None.

