# OSAL\_CRIT\_Enter Function

**Parent topic:**[Library Interface](GUID-2729150D-D502-4BC4-BB41-653718EF531C.md)

## C

```c
OSAL_CRITSECT_DATA_TYPE OSAL_CRIT_Enter(OSAL_CRIT_TYPE severity)
```

## Summary

Enters a critical section with the specified severity level.

## Description

This function enters a critical section of code. It is assumed that the<br />sequence of operations bounded by the enter and leave critical section<br />operations is treated as one atomic sequence that will not be disturbed.<br />This function should be paired with OSAL\_CRIT\_Leave\(\).

## Precondition

None.

## Parameters

|Param|Description|
|-----|-----------|
|severity|OSAL\_CRIT\_TYPE\_LOW, The RTOS should disable all other running tasks effectively locking the scheduling mechanism. OSAL\_CRIT\_TYPE\_HIGH, The RTOS should disable all possible interrupts sources including the scheduler ensuring that the sequence of code operates without interruption. The state of interrupts are returned to the user before they are disabled|

## Returns

A data type of OSAL\_CRITSECT\_DATA\_TYPE, this value represents the state of interrupts before entering the critical section.

## Example

```c
OSAL_CRITSECT_DATA_TYPE IntState;
// prevent other tasks preempting this sequence of code
IntState = OSAL_CRIT_Enter(OSAL_CRIT_TYPE_HIGH);
// modify the peripheral
DRV_USART_Reinitialize( objUSART, &initData);
OSAL_CRIT_Leave(OSAL_CRIT_TYPE_HIGH, IntState);
```

## Remarks

The sequence of operations bounded by the OSAL\_CRIT\_Enter and OSAL\_CRIT\_Leave form a critical section. The severity level defines whether the RTOS should perform task locking or completely disable all interrupts.

