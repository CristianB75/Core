# DRV\_SDMMC\_GeometryGet Function

**Parent topic:**[Library Interface](GUID-D15D1321-065D-4EA7-A00C-D277A8A66F8D.md)

## C

```c
SYS_MEDIA_GEOMETRY* DRV_SDMMC_GeometryGet ( const DRV_HANDLE handle );
```

## Summary

Returns the geometry of the device.

## Description

This API gives the following geometrical details of the SD Card.

-   Media Property

-   Number of Read/Write/Erase regions in the SD Card

-   Number of Blocks and their size in each region of the device


## Precondition

The DRV\_SDMMC\_Initialize routine must have been called for the specified SDMMC driver instance.

The DRV\_SDMMC\_Open routine must have been called to obtain a valid opened device handle.

## Parameters

|Param|Description|
|-----|-----------|
|handle|A valid open-instance handle, returned from the driver's open function|

## Returns

*SYS\_MEDIA\_GEOMETRY* - Pointer to structure which holds the media geometry information.

## Example

```c
SYS_MEDIA_GEOMETRY* SDMMCGeometry;
uint32_t readBlockSize, writeBlockSize, eraseBlockSize;
uint32_t nReadBlocks, nReadRegions, totalSize;

SDMMCGeometry = DRV_SDMMC_GeometryGet(SDMMCOpenHandle1);

readBlockSize = SDMMCGeometry->geometryTable->blockSize;
nReadBlocks = SDMMCGeometry->geometryTable->numBlocks;
nReadRegions = SDMMCGeometry->numReadRegions;

writeBlockSize = (SDMMCGeometry->geometryTable +1)->blockSize;
eraseBlockSize = (SDMMCGeometry->geometryTable +2)->blockSize;

totalSize = readBlockSize * nReadBlocks * nReadRegions;

```

## Remarks

Refer sys\_media.h for definition of SYS\_MEDIA\_GEOMETRY.

