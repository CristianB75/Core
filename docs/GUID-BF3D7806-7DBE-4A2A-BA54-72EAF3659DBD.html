<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="SYS_FS_FUNCTIONS Struct" />
<meta name="DC.relation" scheme="URI" content="GUID-42556FDF-A632-49FE-8A5E-9303A926578C.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="sys-fs-functions-struct" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>SYS_FS_FUNCTIONS Struct</title>
<meta name="Microsoft.Help.Id" content="GUID-EDFB1AB8-CD6B-446F-8E25-F2167287A1AF-sys-fs-functions-struct" />
<meta name="Microsoft.Help.TocParent" content="GUID-EDFB1AB8-CD6B-446F-8E25-F2167287A1AF" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Core Library Reference A 11/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-BF3D7806-7DBE-4A2A-BA54-72EAF3659DBD"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="sys-fs-functions-struct">
<h1 class="title topictitle1" id="ariaid-title1">SYS_FS_FUNCTIONS Struct</h1><div class="body"></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-42556FDF-A632-49FE-8A5E-9303A926578C.html">Library Interface</a></div>
</div>
</div><div class="topic nested1" aria-labelledby="ariaid-title2" id="c"><h2 class="title topictitle2" id="ariaid-title2">C</h2><div class="body"><pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d15637e21', this);">Copy</button><code id="d15637e21" content="typedef struct&#xA;{&#xA;    /* Function pointer of native file system for mounting a volume */&#xA;    int (*mount) (uint8_t vol);&#xA;    /* Function pointer of native file system for unmounting a volume */&#xA;    int (*unmount) (uint8_t vol);&#xA;    /* Function pointer of native file system for opening a file */&#xA;    int (*open) (uintptr_t handle, const char* path, uint8_t mode);&#xA;    /* Function pointer of native file system for reading a file */&#xA;    int (*read) (uintptr_t fp, void* buff, uint32_t btr, uint32_t *br);&#xA;    /* Function pointer of native file system for writing to a file */&#xA;    int (*write) (uintptr_t fp, const void* buff, uint32_t btw, uint32_t* bw);&#xA;    /* Function pointer of native file system for closing a file */&#xA;    int (*close) (uintptr_t fp);&#xA;    /* Function pointer of native file system for moving the file pointer by a&#xA;    * desired offset */&#xA;    int (*seek) (uintptr_t handle, uint32_t offset);&#xA;    /* Function pointer of native file system for finding the position of the&#xA;    * file pointer */&#xA;    uint32_t (*tell) (uintptr_t handle);&#xA;    * reached */&#xA;    bool (*eof) (uintptr_t handle);&#xA;    /* Function pointer of native file system to know the size of file */&#xA;    uint32_t (*size) (uintptr_t handle);&#xA;    /* Function pointer of native file system to know the status of file */&#xA;    int (*fstat) (const char* path, uintptr_t fno);&#xA;    /* Function pointer of native file system to create a directory */&#xA;    int (*mkdir)(const char *path);&#xA;    /* Function pointer of native file system to change a directory */&#xA;    int (*chdir)(const char *path);&#xA;    /* Function pointer of native file system to remove a file or directory */&#xA;    int (*remove)(const char *path);&#xA;    /* Function pointer of native file system to get the volume label */&#xA;    int (*getlabel)(const char *path, char *buff, uint32_t *sn);&#xA;    /* Function pointer of native file system to set the volume label */&#xA;    int (*setlabel)(const char *label);&#xA;    /* Function pointer of native file system to truncate the file */&#xA;    int (*truncate)(uintptr_t handle);&#xA;    /* Function pointer of native file system to obtain the current working&#xA;    * directory */&#xA;    int (*currWD)(char* buff, uint32_t len);&#xA;    /* Function pointer of native file system to set the current drive */&#xA;    int(*chdrive)(uint8_t drive);&#xA;    /* Function pointer of native file system to change the attribute for file&#xA;    * or directory */&#xA;    int(*chmode)(const char* path, uint8_t attr, uint8_t mask);&#xA;    /* Function pointer of native file system to change the time for a file or&#xA;    * directory */&#xA;    int(*chtime)(const char* path, uintptr_t ptr);&#xA;    /* Function pointer of native file system to rename a file or directory */&#xA;    int(*rename)(const char *oldPath, const char *newPath);&#xA;    /* Function pointer of native file system to flush file */&#xA;    int(*sync)(uintptr_t fp);&#xA;    /* Function pointer of native file system to read a string from a file */&#xA;    char *(*getstrn)(char* buff, int len, uintptr_t handle);&#xA;    /* Function pointer of native file system to write a character into a file&#xA;    * */&#xA;    int(*putchr)(char c, uintptr_t handle);&#xA;    /* Function pointer of native file system to write a string into a file */&#xA;    int(*putstrn)(const char* str, uintptr_t handle);&#xA;    /* Function pointer of native file system to print a formatted string to&#xA;    * file */&#xA;    int(*formattedprint)(uintptr_t handle, const char *str, va_list argList);&#xA;    /* Function pointer of native file system to test an error in a file */&#xA;    bool(*testerror)(uintptr_t handle);&#xA;    /* Function pointer of native file system to format a disk */&#xA;    int(*formatDisk)(uint8_t vol, const SYS_FS_FORMAT_PARAM* opt, void* work, uint32_t len)&#xA;    /* Function pointer of native file system to open a directory */&#xA;    int(*openDir)(uintptr_t handle, const char *path);&#xA;    /* Function pointer of native file system to read a directory */&#xA;    int(*readDir)(uintptr_t handle, uintptr_t stat);&#xA;    /* Function pointer of native file system to close an opened directory */&#xA;    int(*closeDir)(uintptr_t handle);&#xA;    /* Function pointer of native file system to partition a physical drive */&#xA;    int(*partitionDisk)(uint8_t pdrv, const uint32_t szt[], void* work);&#xA;    /* Function pointer of native file system to get total sectors and free&#xA;    * sectors */&#xA;    int(*getCluster)(const char *path, uint32_t *tot_sec, uint32_t *free_sec);&#xA;} SYS_FS_FUNCTIONS;&#xA;"><span class="ph token keyword">typedef</span> <span class="ph token keyword">struct</span>
<span class="ph token punctuation">{</span>
    <span class="ph token comment">/* Function pointer of native file system for mounting a volume */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>mount<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uint8_t vol<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for unmounting a volume */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>unmount<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uint8_t vol<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for opening a file */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>open<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> <span class="ph token keyword">char</span><span class="ph token operator">*</span> path<span class="ph token punctuation">,</span> uint8_t mode<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for reading a file */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>read<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t fp<span class="ph token punctuation">,</span> <span class="ph token keyword">void</span><span class="ph token operator">*</span> buff<span class="ph token punctuation">,</span> uint32_t btr<span class="ph token punctuation">,</span> uint32_t <span class="ph token operator">*</span>br<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for writing to a file */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>write<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t fp<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> <span class="ph token keyword">void</span><span class="ph token operator">*</span> buff<span class="ph token punctuation">,</span> uint32_t btw<span class="ph token punctuation">,</span> uint32_t<span class="ph token operator">*</span> bw<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for closing a file */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>close<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t fp<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for moving the file pointer by a
    * desired offset */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>seek<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">,</span> uint32_t offset<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system for finding the position of the
    * file pointer */</span>
    uint32_t <span class="ph token punctuation">(</span><span class="ph token operator">*</span>tell<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token operator">*</span> reached <span class="ph token operator">*</span><span class="ph token operator">/</span>
    bool <span class="ph token punctuation">(</span><span class="ph token operator">*</span>eof<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to know the size of file */</span>
    uint32_t <span class="ph token punctuation">(</span><span class="ph token operator">*</span>size<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to know the status of file */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>fstat<span class="ph token punctuation">)</span> <span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span><span class="ph token operator">*</span> path<span class="ph token punctuation">,</span> uintptr_t fno<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to create a directory */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>mkdir<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>path<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to change a directory */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>chdir<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>path<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to remove a file or directory */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>remove<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>path<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to get the volume label */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>getlabel<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>path<span class="ph token punctuation">,</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>buff<span class="ph token punctuation">,</span> uint32_t <span class="ph token operator">*</span>sn<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to set the volume label */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>setlabel<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>label<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to truncate the file */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>truncate<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to obtain the current working
    * directory */</span>
    <span class="ph token keyword">int</span> <span class="ph token punctuation">(</span><span class="ph token operator">*</span>currWD<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">char</span><span class="ph token operator">*</span> buff<span class="ph token punctuation">,</span> uint32_t len<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to set the current drive */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>chdrive<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uint8_t drive<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to change the attribute for file
    * or directory */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>chmode<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span><span class="ph token operator">*</span> path<span class="ph token punctuation">,</span> uint8_t attr<span class="ph token punctuation">,</span> uint8_t mask<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to change the time for a file or
    * directory */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>chtime<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span><span class="ph token operator">*</span> path<span class="ph token punctuation">,</span> uintptr_t ptr<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to rename a file or directory */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>rename<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>oldPath<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>newPath<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to flush file */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>sync<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t fp<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to read a string from a file */</span>
    <span class="ph token keyword">char</span> <span class="ph token operator">*</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>getstrn<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">char</span><span class="ph token operator">*</span> buff<span class="ph token punctuation">,</span> <span class="ph token keyword">int</span> len<span class="ph token punctuation">,</span> uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to write a character into a file
    * */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>putchr<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">char</span> c<span class="ph token punctuation">,</span> uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to write a string into a file */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>putstrn<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span><span class="ph token operator">*</span> str<span class="ph token punctuation">,</span> uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to print a formatted string to
    * file */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>formattedprint<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>str<span class="ph token punctuation">,</span> va_list argList<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to test an error in a file */</span>
    <span class="ph token function">bool</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>testerror<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to format a disk */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>formatDisk<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uint8_t vol<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> SYS_FS_FORMAT_PARAM<span class="ph token operator">*</span> opt<span class="ph token punctuation">,</span> <span class="ph token keyword">void</span><span class="ph token operator">*</span> work<span class="ph token punctuation">,</span> uint32_t len<span class="ph token punctuation">)</span>
    <span class="ph token comment">/* Function pointer of native file system to open a directory */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>openDir<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>path<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to read a directory */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>readDir<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">,</span> uintptr_t stat<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to close an opened directory */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>closeDir<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uintptr_t handle<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to partition a physical drive */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>partitionDisk<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span>uint8_t pdrv<span class="ph token punctuation">,</span> <span class="ph token keyword">const</span> uint32_t szt<span class="ph token punctuation">[</span><span class="ph token punctuation">]</span><span class="ph token punctuation">,</span> <span class="ph token keyword">void</span><span class="ph token operator">*</span> work<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token comment">/* Function pointer of native file system to get total sectors and free
    * sectors */</span>
    <span class="ph token keyword">int</span><span class="ph token punctuation">(</span><span class="ph token operator">*</span>getCluster<span class="ph token punctuation">)</span><span class="ph token punctuation">(</span><span class="ph token keyword">const</span> <span class="ph token keyword">char</span> <span class="ph token operator">*</span>path<span class="ph token punctuation">,</span> uint32_t <span class="ph token operator">*</span>tot_sec<span class="ph token punctuation">,</span> uint32_t <span class="ph token operator">*</span>free_sec<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
<span class="ph token punctuation">}</span> SYS_FS_FUNCTIONS<span class="ph token punctuation">;</span>
</code></pre></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="summary"><h2 class="title topictitle2" id="ariaid-title3">Summary</h2><div class="body"><p class="p">SYS FS Function signature structure for native file systems.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title4" id="description"><h2 class="title topictitle2" id="ariaid-title4">Description</h2><div class="body"><p class="p">The SYS FS layer supports functions from each native file system layer. This
structure specifies the signature for each function from native file system
(parameter that needs to be passed to each function and return type for each
function). If a new native file system is to be integrated with the SYS FS
layer, the functions should follow the signature.</p>
<p class="p">The structure of function pointer for the supported native file systems
is already populated in the initialization.c file. Hence the following
structure is not immediately useful for the user. But the explanation for
the structure is still provided for advanced users who would wish to
integrate a new native file system to the MPLAB Harmony File System framework.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title5" id="remarks"><h2 class="title topictitle2" id="ariaid-title5">Remarks</h2><div class="body"><p class="p">None.</p>
</div>
</div>
</body>
</html>