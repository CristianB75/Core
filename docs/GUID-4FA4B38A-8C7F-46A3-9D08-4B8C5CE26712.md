# Driver Libraries

MPLAB Harmony device drivers \(usually referred to as "drivers"\) provide simple, highly abstracted C-language interfaces to peripherals and other resources. A driver's interface allows applications and other client modules to easily interact with the peripheral it controls using consistent usage models.

**Harmony Driver Modes**

|Asynchronous Mode|Synchronous Mode|
|-----------------|----------------|
|Works in both Bare-Metal and RTOS environment|Works only in RTOS Environment|
|Provides Non-Blocking behavior|Provides Blocking behavior. Application thread gets blocked on a semaphore until transfer request is completed.|
|API's return with a valid handle which can be used to check whether transfer request is accepted|API's return true or false to indicate whether the whole transfer is completed.|
|**For Bare-Metal** a dedicated task routine is either called from SYS\_Tasks\(\) or is interrupt driven to process the data from the instance queue. **For RTOS** either a blocking dedicated thread is created for task routine or is interrupt driven to process the data from the instance queue.|As the Driver works in complete blocking behavior there is no task routine generated.|

**Driver Usage Models**

![harmony_driver_usage_model](GUID-4A4613F3-8325-4A40-9D16-BD539E047367-low.png)

-   **Single instance, single client**

    -   The driver manages a single instance of the peripheral and there is a single client \(application\) accessing the driver instance

-   **Multiple instances, single client \(one client per driver instance\)**

    -   The driver manages multiple instances of the peripheral and there is a single client to each instance of the driver.

    -   For example, the SPI driver instance 0 manages SPI peripheral instance 3 and SPI driver instance 1 manages SPI peripheral instance 5

-   **Single instance, multiple clients**

    -   Multiple clients to an instance of the driver.

    -   For example, there can be two application clients; one client interacting with SPI EEPROM and the second client interacting with SPI based temperature sensor, both interfaced to the same instance of SPI peripheral.


**Harmony Drivers provide**

-   **Same API for all the instances of a peripheral**

    -   This allows the application to remain the same when the peripheral instance is changed and across different platforms


![harmony_driver_api_table](GUID-DAE1EF6F-8AF0-4536-81C3-8EE089FAFB92-low.png)

-   **Support for multiple clients**

    -   Seamlessly handle client specific differences. Drivers allow multiple clients to a driver instance.

    -   For example, there can be multiple application clients to a SPI driver instance having multiple SPI slaves. The SPI slave specific information such as clock phase, clock polarity, clock speed and chip select are all handled by the SPI driver based on the client that submitted the request

-   **Queue support \(Asynchronous Mode\)**

    -   Drivers allow queuing of multiple requests. Each instance of a driver has a dedicated queue.

    -   The requests submitted by all the clients of the driver instance are queued in the driver instance queue.

    -   Queuing allows the application to submit requests before waiting for the driver to finish the previous requests.

    -   For each submitted request, the application can choose to get notified or poll the status of the submitted request using the handle provided by the driver for the submitted request

-   **Cache management**

    -   Drivers manage cache related operations on devices that have cache, thereby simplifying application development.


**Harmony Driver Execution Flow**

![harmony_driver_execution_flow](GUID-B606D19F-534A-4F24-8BFB-6B3674AD9F73-low.png)

-   **[Common Driver Library](GUID-DFB9A1FE-5BBB-4A10-A4B0-430BA7B9AF94.md)**  

-   **[I2C Driver](GUID-4321CAFA-57B5-4633-9D43-0AE24B87C101.md)**  

-   **[Memory Driver](GUID-0FFCD458-7F10-49C8-B068-E4E4B5439C47.md)**  

-   **[NAND Flash Driver](GUID-BFFB8AD8-CD11-49AB-8C23-F860A883EFE6.md)**  

-   **[SDMMC Driver](GUID-013A85E2-6948-44FA-907E-7DC945B5CE82.md)**  

-   **[SDSPI Driver](GUID-89A8332D-B4D0-4989-8602-EACDE3EE74AC.md)**  

-   **[SPI Driver](GUID-B2925496-394D-47ED-BD1E-1AB2149934FA.md)**  

-   **[USART Driver](GUID-3DC66955-0F7E-4747-9790-893CA81987A6.md)**  

-   **[I2C EEPROM Drivers](GUID-84AD8BE3-4D9F-4F36-AB5F-160B9B90F177.md)**  

-   **[SPI EEPROM Drivers](GUID-E5D1E930-88E3-47F4-9ECD-EDE02BF9B07D.md)**  

-   **[SPI Flash Drivers](GUID-3B80B7B5-A8B5-436E-9135-38CDEA3A638B.md)**  

-   **[SQI Flash Drivers](GUID-41B61931-E124-4512-A689-5B0643F249E8.md)**  


**Parent topic:**[MPLABÂ® Harmony Core Library](GUID-C04D97AB-D6E0-4CF5-9A80-CA64E36B6199.md)

