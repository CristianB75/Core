# SYS\_FS\_FileError Function

**Parent topic:**[Library Interface](GUID-42556FDF-A632-49FE-8A5E-9303A926578C.md)

## C

```c
SYS_FS_ERROR SYS_FS_FileError
(
    SYS_FS_HANDLE handle
);
```

## Summary

Returns the file specific error.

## Description

For file system functions which accepts valid handle, any error happening<br />in those functions could be retrieved with SYS\_FS\_FileError. This<br />function returns errors which are file specific.

Please note that if an invalid handle is passed to a file system<br />function, in such a case, SYS\_FS\_FileError will not return the correct<br />type of error, as the handle was invalid. Therefore, it would be prudent<br />to check the errors using the SYS\_FS\_Error function.

## Precondition

This function has to be called immediately after a failure is observed while doing a file operation. Any subsequent failure will overwrite the cause of previous failure.

## Parameters

|Param|Description|
|-----|-----------|
|handle|A valid file handle|

## Returns

Error code of type SYS\_FS\_ERROR.

## Example

```c
...
SYS_FS_HANDLE fileHandle;
const char *buf = "Hello World";
size_t nbytes;
size_t bytes_written;

fileHandle = SYS_FS_FileOpen("/mnt/myDrive/FILE.txt", (SYS_FS_FILE_OPEN_WRITE));

if(fileHandle != SYS_FS_HANDLE_INVALID)
{
    // File open is successful
}

// Write data to the file
bytes_written = SYS_FS_FileWrite(fileHandle, (const void *)buf, nbytes);

if(bytes_written == -1)
{
    // error while writing file
    // find the type (reason) of error
    err = SYS_FS_FileError(fd);
}
```

## Remarks

None.

